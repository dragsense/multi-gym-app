# ===========================================
# UNIFIED DATABASE CONFIGURATION
# ===========================================

# Database Mode: single, multi-schema, multi-database
DB_MODE=single

# Default Connection
DB_DEFAULT_CONNECTION=default

# Primary Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=postgres123
DB_NAME=fullstack_template

# TypeORM Configuration
TYPEORM_SYNCHRONIZE=true
TYPEORM_LOGGING=true

# Database Pool Configuration
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_IDLE=30000
DB_POOL_CONN_TIMEOUT=5000

# ===========================================
# AUTO-REPLICA CONFIGURATION
# ===========================================
# Automatically creates read replicas for all databases
DB_AUTO_REPLICA=true

# ===========================================
# AUTO-ARCHIVE CONFIGURATION  
# ===========================================
# Automatically creates archive databases for all databases
DB_AUTO_ARCHIVE=true

# ===========================================
# HEALTH CHECK CONFIGURATION
# ===========================================
DB_HEALTH_CHECK_INTERVAL=30000
DB_HEALTH_CHECK_TIMEOUT=5000
DB_HEALTH_CHECK_QUERY=SELECT 1

# ===========================================
# RETRY CONFIGURATION
# ===========================================
DB_RETRY_MAX_ATTEMPTS=3
DB_RETRY_DELAY=1000
DB_RETRY_BACKOFF_MULTIPLIER=2

# ===========================================
# MODE-SPECIFIC EXAMPLES
# ===========================================

# SINGLE MODE (Default)
# DB_MODE=single
# - Main DB + Auto-Replica + Auto-Archive
# - All tenants use same database

# MULTI-SCHEMA MODE
# DB_MODE=multi-schema
# - Main DB + Per-Tenant Schemas + Auto-Replicas + Auto-Archives
# - Each tenant gets own schema: tenant_123, tenant_456, etc.

# MULTI-DATABASE MODE  
# DB_MODE=multi-database
# - Main DB + Per-Tenant Databases + Auto-Replicas + Auto-Archives
# - Each tenant gets own database: db_tenant_123, db_tenant_456, etc.
